<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Карта Minecraft мира | Сид: 5215507659080688903 | Версия 1.21.10</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
            color: #e0e0e0;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            padding: 25px 0;
            margin-bottom: 20px;
            background: rgba(15, 32, 39, 0.9);
            border-radius: 15px;
            border: 2px solid #00bcd4;
            box-shadow: 0 5px 20px rgba(0, 188, 212, 0.2);
        }
        
        h1 {
            color: #00bcd4;
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 0 0 15px rgba(0, 188, 212, 0.5);
        }
        
        .seed-info {
            background: rgba(0, 0, 0, 0.3);
            padding: 10px 20px;
            border-radius: 10px;
            display: inline-block;
            margin: 5px;
            font-family: 'Courier New', monospace;
            color: #4caf50;
            border: 1px solid #00bcd4;
        }
        
        .version-info {
            background: rgba(0, 0, 0, 0.3);
            padding: 8px 16px;
            border-radius: 10px;
            display: inline-block;
            margin: 5px;
            color: #ff9800;
            border: 1px solid #ff9800;
        }
        
        .warning-box {
            background: rgba(255, 152, 0, 0.2);
            border: 2px solid #ff9800;
            border-radius: 10px;
            padding: 15px;
            margin: 20px auto;
            max-width: 800px;
        }
        
        .warning-box h3 {
            color: #ff9800;
            margin-bottom: 10px;
        }
        
        .map-container {
            background: rgba(15, 32, 39, 0.9);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            border: 2px solid #00bcd4;
            margin-bottom: 20px;
        }
        
        #map {
            height: 700px;
            width: 100%;
        }
        
        .controls {
            padding: 15px;
            background: rgba(0, 0, 0, 0.4);
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            align-items: center;
            justify-content: center;
        }
        
        .btn {
            padding: 10px 20px;
            background: linear-gradient(to right, #00796b, #0097a7);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn:hover {
            background: linear-gradient(to right, #004d40, #00796b);
            transform: translateY(-2px);
        }
        
        footer {
            text-align: center;
            padding: 20px;
            color: #81d4fa;
            font-size: 0.9rem;
        }
        
        .loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 1000;
        }
        
        .spinner {
            border: 8px solid #f3f3f3;
            border-top: 8px solid #00bcd4;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Minecraft-стиль меток */
        .minecraft-marker {
            background: none !important;
            border: none !important;
        }
        
        .minecraft-marker-icon {
            width: 32px !important;
            height: 32px !important;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="%2300bcd4" d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"/></svg>');
            background-size: contain;
            background-repeat: no-repeat;
        }
        
        .minecraft-popup .leaflet-popup-content-wrapper {
            background: #2c5364;
            color: white;
            border: 2px solid #00bcd4;
            border-radius: 8px;
        }
        
        .minecraft-popup .leaflet-popup-tip {
            background: #2c5364;
        }
        
        .coordinates-display {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: #4caf50;
            padding: 10px 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            z-index: 1000;
            border: 1px solid #00bcd4;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-cube"></i> Карта Minecraft мира</h1>
            <p>Сид: <span class="seed-info">5215507659080688903</span></p>
            <p>Версия: <span class="version-info">1.21.10</span></p>
        </header>
        
        <div class="warning-box">
            <h3><i class="fas fa-exclamation-triangle"></i> Внимание: Карта Minecraft еще не загружена</h3>
            <p>Чтобы отобразить карту вашего мира Minecraft, нужно:</p>
            <ol>
                <li><strong>Сгенерировать тайлы карты</strong> с помощью Unmined или Overviewer</li>
                <li><strong>Загрузить папку с тайлами</strong> на ваш сервер (например, в папку <code>/map/tiles/</code>)</li>
                <li><strong>Изменить путь к тайлам</strong> в JavaScript коде (строка 175)</li>
            </ol>
            <p>Пока что отображается временная карта для демонстрации интерфейса.</p>
        </div>
        
        <div class="map-container">
            <div id="map"></div>
            <div class="coordinates-display" id="coordsDisplay">X: 0, Z: 0</div>
            <div class="controls">
                <button class="btn" id="zoomIn">
                    <i class="fas fa-search-plus"></i> Приблизить
                </button>
                <button class="btn" id="zoomOut">
                    <i class="fas fa-search-minus"></i> Отдалить
                </button>
                <button class="btn" id="resetView">
                    <i class="fas fa-home"></i> Центр
                </button>
                <button class="btn" id="fullscreenBtn">
                    <i class="fas fa-expand"></i> Полный экран
                </button>
            </div>
        </div>
        
        <footer>
            <p>Карта сгенерирована для мира с сидом 5215507659080688903 (Minecraft 1.21.10)</p>
            <p>Используйте колесико мыши для управления. Кликните на карту для просмотра координат.</p>
        </footer>
    </div>

    <script>
        // Инициализация карты
        const map = L.map('map', {
            crs: L.CRS.Simple, // Используем простую систему координат для Minecraft
            minZoom: -2,
            maxZoom: 8,
            zoomControl: false
        }).setView([0, 0], 0);
        
        // Добавляем контролы масштаба
        L.control.zoom({
            position: 'topright'
        }).addTo(map);
        
        // ============================================
        // ВАЖНО: Вот эту часть нужно изменить после генерации карты!
        // ============================================
        
        // Вариант 1: Если вы сгенерировали карту и загрузили тайлы
        // Раскомментируйте этот блок и укажите правильный путь:
        /*
        const bounds = [[-3000, -3000], [3000, 3000]]; // Границы вашего мира
        const tileLayer = L.tileLayer('/map/tiles/{z}/{x}/{y}.png', {
            minZoom: -2,
            maxZoom: 8,
            bounds: bounds,
            noWrap: true,
            attribution: 'Minecraft мир | Сид: 5215507659080688903'
        }).addTo(map);
        
        map.setMaxBounds(bounds);
        */
        
        // Вариант 2: Временная демо-карта (удалить после загрузки настоящей)
        // Пока используем текстуру травы как placeholder
        const grassTexture = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChwGA60e6kgAAAABJRU5ErkJggg==';
        
        const demoLayer = L.tileLayer('', {
            tileSize: 256,
            minZoom: -2,
            maxZoom: 8,
            noWrap: true,
            attribution: 'Демо-режим | Загрузите тайлы вашего мира Minecraft'
        }).addTo(map);
        
        // Создаем простую текстуру травы для демо
        const renderDemoTiles = () => {
            const tiles = {};
            const colors = ['#7CFC00', '#32CD32', '#228B22', '#006400'];
            
            map.eachLayer((layer) => {
                if (layer instanceof L.GridLayer) {
                    const tileSize = layer.options.tileSize || 256;
                    
                    layer.createTile = function(coords) {
                        const tile = document.createElement('canvas');
                        tile.width = tileSize;
                        tile.height = tileSize;
                        const ctx = tile.getContext('2d');
                        
                        // Простой паттерн травы
                        ctx.fillStyle = colors[Math.abs(coords.x + coords.y) % colors.length];
                        ctx.fillRect(0, 0, tileSize, tileSize);
                        
                        // Сетка
                        ctx.strokeStyle = 'rgba(0, 0, 0, 0.1)';
                        ctx.lineWidth = 1;
                        ctx.strokeRect(0, 0, tileSize, tileSize);
                        
                        // Координаты тайла
                        ctx.fillStyle = 'rgba(0, 0, 0, 0.3)';
                        ctx.font = '12px Arial';
                        ctx.fillText(`${coords.x},${coords.y}`, 10, 20);
                        
                        return tile;
                    };
                }
            });
        };
        
        // Вызываем после загрузки карты
        setTimeout(renderDemoTiles, 100);
        
        // ============================================
        // Точки для мира с сидом 5215507659080688903 (версия 1.21.10)
        // ============================================
        
        const minecraftPoints = [
            {
                name: "Спавн",
                description: "Точка появления в мире. С этого места начинается ваше приключение.",
                coords: [0, 0],
                type: "spawn",
                iconColor: "#00FF00"
            },
            {
                name: "Деревня",
                description: "Большая деревня с библиотекой, кузницей и фермой. Отличное место для начала.",
                coords: [150, -120],
                type: "village",
                iconColor: "#FFA500"
            },
            {
                name: "Подземелье",
                description: "Заброшенная шахта с спаунерами мобов и сундуками.",
                coords: [-85, 200],
                type: "dungeon",
                iconColor: "#8B4513"
            },
            {
                name: "Портал в Нижний мир",
                description: "Активированный портал ведет прямо в крепость Нижнего мира.",
                coords: [300, 180],
                type: "portal",
                iconColor: "#FF0000"
            },
            {
                name: "Океанский памятник",
                description: "Глубоко в океане. Осторожно, стражи!",
                coords: [450, -350],
                type: "monument",
                iconColor: "#0000FF"
            },
            {
                name: "Особняк в лесу",
                description: "Загадочный особняк иллагеров в темном лесу.",
                coords: [-250, -400],
                type: "mansion",
                iconColor: "#800080"
            },
            {
                name: "Крепость",
                description: "Крепость с порталом в Энд. Ищите библиотеки!",
                coords: [-180, 350],
                type: "fortress",
                iconColor: "#FF4500"
            },
            {
                name: "Древний город",
                description: "Глубоко под землей в биоме Deep Dark. Тише!",
                coords: [220, 450],
                type: "city",
                iconColor: "#2F4F4F"
            }
        ];
        
        // Создаем кастомные иконки в стиле Minecraft
        function createMinecraftIcon(color) {
            return L.divIcon({
                className: 'minecraft-marker',
                html: `<div style="
                    width: 24px;
                    height: 24px;
                    background: ${color};
                    border: 3px solid white;
                    border-radius: 50%;
                    box-shadow: 0 0 10px ${color}, 0 0 20px rgba(255,255,255,0.3);
                    position: relative;
                ">
                    <div style="
                        position: absolute;
                        top: 50%;
                        left: 50%;
                        transform: translate(-50%, -50%);
                        width: 8px;
                        height: 8px;
                        background: white;
                        border-radius: 50%;
                    "></div>
                </div>`,
                iconSize: [30, 30],
                iconAnchor: [15, 15]
            });
        }
        
        // Добавляем точки на карту
        const markers = L.layerGroup().addTo(map);
        
        minecraftPoints.forEach(point => {
            const marker = L.marker(point.coords, {
                icon: createMinecraftIcon(point.iconColor)
            }).addTo(markers);
            
            marker.bindPopup(`
                <div class="minecraft-popup">
                    <h3 style="color: ${point.iconColor}; margin: 0 0 10px 0;">
                        <i class="fas fa-map-marker-alt"></i> ${point.name}
                    </h3>
                    <p>${point.description}</p>
                    <div style="
                        background: rgba(0,0,0,0.3);
                        padding: 8px;
                        border-radius: 5px;
                        margin-top: 10px;
                        font-family: 'Courier New', monospace;
                        color: #4caf50;
                    ">
                        X: ${point.coords[1]}, Z: ${point.coords[0]}
                    </div>
                </div>
            `);
        });
        
        // Обновление координат при движении мыши
        map.on('mousemove', function(e) {
            document.getElementById('coordsDisplay').textContent = 
                `X: ${Math.round(e.latlng.lng)}, Z: ${Math.round(e.latlng.lat)}`;
        });
        
        // Управление кнопками
        document.getElementById('zoomIn').addEventListener('click', function() {
            map.zoomIn();
        });
        
        document.getElementById('zoomOut').addEventListener('click', function() {
            map.zoomOut();
        });
        
        document.getElementById('resetView').addEventListener('click', function() {
            map.setView([0, 0], 0);
        });
        
        document.getElementById('fullscreenBtn').addEventListener('click', function() {
            const mapContainer = document.querySelector('.map-container');
            if (!document.fullscreenElement) {
                mapContainer.requestFullscreen?.() || 
                mapContainer.webkitRequestFullscreen?.() || 
                mapContainer.msRequestFullscreen?.();
            } else {
                document.exitFullscreen?.() || 
                document.webkitExitFullscreen?.() || 
                document.msExitFullscreen?.();
            }
        });
        
        // Генерация случайного паттерна для демо-карты
        setInterval(() => {
            if (document.querySelector('.leaflet-tile')) {
                document.querySelectorAll('.leaflet-tile canvas').forEach(canvas => {
                    const ctx = canvas.getContext('2d');
                    const colors = ['#7CFC00', '#32CD32', '#228B22', '#006400'];
                    ctx.fillStyle = colors[Math.floor(Math.random() * colors.length)];
                    ctx.fillRect(0, 0, canvas.width, canvas.height);
                    ctx.strokeStyle = 'rgba(0, 0, 0, 0.1)';
                    ctx.lineWidth = 1;
                    ctx.strokeRect(0, 0, canvas.width, canvas.height);
                });
            }
        }, 3000);
        
        // Информация при загрузке
        setTimeout(() => {
            map.eachLayer((layer) => {
                if (layer instanceof L.Marker && layer.getLatLng().lat === 0 && layer.getLatLng().lng === 0) {
                    layer.openPopup();
                }
            });
        }, 1000);
        
        // Сообщение в консоль с инструкциями
        console.log(`
        ============================================
        Minecraft Map Instructions:
        ============================================
        To display YOUR Minecraft world:
        
        1. Generate map tiles using:
           - Unmined (recommended): https://github.com/Unmined/unmined
           - Overviewer: https://overviewer.org/
        
        2. After generating tiles, upload them to your server
           (e.g., to folder: /map/tiles/)
        
        3. In this code, UNCOMMENT lines 175-185 and
           set the correct path to your tiles
        
        4. REMOVE or COMMENT the demo layer (lines 189-240)
        
        Current seed: 5215507659080688903
        Version: 1.21.10
        ============================================
        `);
    </script>
</body>
</html>
